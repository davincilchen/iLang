<div class="container">
  <div class="row">

  <% all_languages = Language.all.map { |language| [language.name, language.id] } %>
  
  <%= form_for @user do |f| %>
  <div class="col-md-6">
    <div class="user-profile-item">
      <%  if @user.avatar? %>
        <%= image_tag @user.avatar, width: '150px'  %>
      <% else %>
        <%= image_tag "https://cdn.filestackcontent.com/EGckE21mQjmc18I37imm", width: '150px'  %>
      <% end %>
      <%= f.filestack_field :avatar, 'Upload Your Avatar!',  pickerOptions: { accept: 'image/*' }, id: 'unique-id', class: "form-control" %>
    </div>
  </div>

  <div class="col-md-6">
    <div class="form-group">
      <%= f.label :username, "使用者名稱" %>
      <%= f.text_field :username, 'class'=>'form form-control' %>
    </div>
    <div class="form-group">
      <%= f.label :description, "簡介" %>
      <%= f.text_area :description, 'class'=>'edit-profile-intro form form-control'%>
    </div>
  </div>
  <hr>

  <div class="clearfix"></div>

  <hr>
      <div class="col-md-6">
      <%= label_tag '我想要學' %>:
      <%= select_tag 'learn_languages', options_for_select(all_languages, @current_learnings), multiple: true, 'class'=>'form form-control', 'style'=>"height:350px"%>
      </div>
      
      <div class="col-md-6">
      <%= label_tag '我想要教' %>:
        <%= select_tag "teach_languages", options_for_select(all_languages, @current_teachings), multiple: true, 'class'=>'form form-control', 'style'=>"height:350px"%>
      </div>
    
    
    <div class="col-md-12">
      <div class="updatebutton">
        <%= submit_tag 'Update', class: "btn btn-primary"%>
        <%= link_to '回上頁', url_for(request.env["HTTP_REFERER"] || root_path), class: "btn btn-warning" %>
      </div>
    </div>
  <% end %>
  </div>
</div>

